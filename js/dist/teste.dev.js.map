{"version":3,"sources":["teste.js"],"names":["camposDoFormulario","document","querySelectorAll","formulario","querySelector","addEventListener","e","preventDefault","listaRespostas","target","elements","value","localStorage","setItem","JSON","stringify","window","location","href","forEach","campo","verificaCampo","evento","tiposDeErro","mensagens","nome","valueMissing","patternMismatch","tooShort","email","typeMismatch","rg","cpf","customError","aniversario","termos","mensagem","setCustomValidity","name","length","erro","validity","console","log","mensagemErro","parentNode","validadorDeInput","checkValidity","textContent"],"mappings":";;AAAA;;AACA;;;;AACA,IAAMA,kBAAkB,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,CAA3B;AACA,IAAMC,UAAU,GAAGF,QAAQ,CAACG,aAAT,CAAuB,mBAAvB,CAAnB;AAEAD,UAAU,CAACE,gBAAX,CAA4B,QAA5B,EAAsC,UAACC,CAAD,EAAO;AACzCA,EAAAA,CAAC,CAACC,cAAF;AAEA,MAAMC,cAAc,GAAG;AACnB,YAAQF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkB,MAAlB,EAA0BC,KADf;AAEnB,aAASL,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkB,OAAlB,EAA2BC,KAFjB;AAGnB,UAAML,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkB,IAAlB,EAAwBC,KAHX;AAInB,WAAOL,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkB,KAAlB,EAAyBC,KAJb;AAKnB,mBAAeL,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkB,aAAlB,EAAiCC;AAL7B,GAAvB;AAQAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeP,cAAf,CAAjC;AAEAQ,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,cAAvB;AACH,CAdD;AAgBAlB,kBAAkB,CAACmB,OAAnB,CAA2B,UAACC,KAAD,EAAW;AAClCA,EAAAA,KAAK,CAACf,gBAAN,CAAuB,MAAvB,EAA+B;AAAA,WAAMgB,aAAa,CAACD,KAAD,CAAnB;AAAA,GAA/B;AACAA,EAAAA,KAAK,CAACf,gBAAN,CAAuB,SAAvB,EAAkC,UAAAiB,MAAM;AAAA,WAAIA,MAAM,CAACf,cAAP,EAAJ;AAAA,GAAxC;AACH,CAHD;AAKA,IAAMgB,WAAW,GAAG,CAChB,cADgB,EAEhB,cAFgB,EAGhB,iBAHgB,EAIhB,UAJgB,EAKhB,aALgB,CAApB;AAQA,IAAMC,SAAS,GAAG;AACdC,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE,uCADZ;AAEFC,IAAAA,eAAe,EAAE,qCAFf;AAGFC,IAAAA,QAAQ,EAAE;AAHR,GADQ;AAMdC,EAAAA,KAAK,EAAE;AACHH,IAAAA,YAAY,EAAE,yCADX;AAEHI,IAAAA,YAAY,EAAE,sCAFX;AAGHF,IAAAA,QAAQ,EAAE;AAHP,GANO;AAWdG,EAAAA,EAAE,EAAE;AACAL,IAAAA,YAAY,EAAE,qCADd;AAEAC,IAAAA,eAAe,EAAE,mCAFjB;AAGAC,IAAAA,QAAQ,EAAE;AAHV,GAXU;AAgBdI,EAAAA,GAAG,EAAE;AACDN,IAAAA,YAAY,EAAE,sCADb;AAEDC,IAAAA,eAAe,EAAE,oCAFhB;AAGDM,IAAAA,WAAW,EAAE,4BAHZ;AAIDL,IAAAA,QAAQ,EAAE;AAJT,GAhBS;AAsBdM,EAAAA,WAAW,EAAE;AACTR,IAAAA,YAAY,EAAE,qDADL;AAETO,IAAAA,WAAW,EAAE;AAFJ,GAtBC;AA0BdE,EAAAA,MAAM,EAAE;AACJT,IAAAA,YAAY,EAAE;AADV;AA1BM,CAAlB;;AA+BA,SAASL,aAAT,CAAuBD,KAAvB,EAA8B;AAC1B,MAAIgB,QAAQ,GAAG,EAAf;AACAhB,EAAAA,KAAK,CAACiB,iBAAN,CAAwB,EAAxB;;AACA,MAAIjB,KAAK,CAACkB,IAAN,IAAc,KAAd,IAAuBlB,KAAK,CAACT,KAAN,CAAY4B,MAAZ,IAAsB,EAAjD,EAAqD;AACjD,+BAAQnB,KAAR;AACH;;AACD,MAAIA,KAAK,CAACkB,IAAN,IAAc,aAAd,IAA+BlB,KAAK,CAACT,KAAN,IAAe,EAAlD,EAAsD;AAClD,iCAAeS,KAAf;AACH;;AACDG,EAAAA,WAAW,CAACJ,OAAZ,CAAoB,UAAAqB,IAAI,EAAI;AACxB,QAAIpB,KAAK,CAACqB,QAAN,CAAeD,IAAf,CAAJ,EAA0B;AACtBJ,MAAAA,QAAQ,GAAGZ,SAAS,CAACJ,KAAK,CAACkB,IAAP,CAAT,CAAsBE,IAAtB,CAAX;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACH;AACJ,GALD;AAMA,MAAMQ,YAAY,GAAGxB,KAAK,CAACyB,UAAN,CAAiBzC,aAAjB,CAA+B,gBAA/B,CAArB;AACA,MAAM0C,gBAAgB,GAAG1B,KAAK,CAAC2B,aAAN,EAAzB;;AAEA,MAAI,CAACD,gBAAL,EAAuB;AACnBF,IAAAA,YAAY,CAACI,WAAb,GAA2BZ,QAA3B;AACH,GAFD,MAEO;AACHQ,IAAAA,YAAY,CAACI,WAAb,GAA2B,EAA3B;AACH;AACJ","sourcesContent":["import ehUmCPF from \"./valida-cpf.js\";\r\nimport ehMaiorDeIdade from \"./valida-idade.js\";\r\nconst camposDoFormulario = document.querySelectorAll('[required]')\r\nconst formulario = document.querySelector('[data-formulario]');\r\n\r\nformulario.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n\r\n    const listaRespostas = {\r\n        \"nome\": e.target.elements[\"nome\"].value,\r\n        \"email\": e.target.elements[\"email\"].value,\r\n        \"rg\": e.target.elements[\"rg\"].value,\r\n        \"cpf\": e.target.elements[\"cpf\"].value,\r\n        \"aniversario\": e.target.elements[\"aniversario\"].value,\r\n    }\r\n\r\n    localStorage.setItem(\"cadastro\", JSON.stringify(listaRespostas));\r\n\r\n    window.location.href = \"./index.html\";\r\n})\r\n\r\ncamposDoFormulario.forEach((campo) => {\r\n    campo.addEventListener(\"blur\", () => verificaCampo(campo));\r\n    campo.addEventListener(\"invalid\", evento => evento.preventDefault())\r\n})\r\n\r\nconst tiposDeErro = [\r\n    'valueMissing',\r\n    'typeMismatch',\r\n    'patternMismatch',\r\n    'tooShort',\r\n    'customError'\r\n]\r\n\r\nconst mensagens = {\r\n    nome: {\r\n        valueMissing: \"O campo de nome não pode estar vazio.\",\r\n        patternMismatch: \"Por favor, preencha um nome válido.\",\r\n        tooShort: \"Por favor, preencha um nome válido.\"\r\n    },\r\n    email: {\r\n        valueMissing: \"O campo de e-mail não pode estar vazio.\",\r\n        typeMismatch: \"Por favor, preencha um email válido.\",\r\n        tooShort: \"Por favor, preencha um email válido.\"\r\n    },\r\n    rg: {\r\n        valueMissing: \"O campo de RG não pode estar vazio.\",\r\n        patternMismatch: \"Por favor, preencha um RG válido.\",\r\n        tooShort: \"O campo de RG não tem caractéres suficientes.\"\r\n    },\r\n    cpf: {\r\n        valueMissing: 'O campo de CPF não pode estar vazio.',\r\n        patternMismatch: \"Por favor, preencha um CPF válido.\",\r\n        customError: \"O CPF digitado não existe.\",\r\n        tooShort: \"O campo de CPF não tem caractéres suficientes.\"\r\n    },\r\n    aniversario: {\r\n        valueMissing: 'O campo de data de nascimento não pode estar vazio.',\r\n        customError: 'Você deve ser maior que 18 anos para se cadastrar.'\r\n    },\r\n    termos: {\r\n        valueMissing: 'Você deve aceitar nossos termos antes de continuar.',\r\n    }\r\n}\r\n\r\nfunction verificaCampo(campo) {\r\n    let mensagem = \"\";\r\n    campo.setCustomValidity('');\r\n    if (campo.name == \"cpf\" && campo.value.length >= 11) {\r\n        ehUmCPF(campo);\r\n    }\r\n    if (campo.name == \"aniversario\" && campo.value != \"\") {\r\n        ehMaiorDeIdade(campo);\r\n    }\r\n    tiposDeErro.forEach(erro => {\r\n        if (campo.validity[erro]) {\r\n            mensagem = mensagens[campo.name][erro];\r\n            console.log(mensagem);\r\n        }\r\n    })\r\n    const mensagemErro = campo.parentNode.querySelector('.mensagem-erro');\r\n    const validadorDeInput = campo.checkValidity();\r\n\r\n    if (!validadorDeInput) {\r\n        mensagemErro.textContent = mensagem;\r\n    } else {\r\n        mensagemErro.textContent = \"\";\r\n    }\r\n}"],"file":"teste.dev.js"}